
/* src/assets/sass/media/_iframe-container.scss */

/* Responsive iframe wrapper
   - Uses aspect-ratio where supported
   - Falls back to the classic padding-top technique
   - Component-scoped knobs default to your global tokens
*/
.iframe-container {
  /* Component knobs (override per instance if needed) */
  --iframe-radius: var(--border-radius-base);
  --iframe-border: var(--color-divider);
  --iframe-shadow: var(--shadow-sm);
  --iframe-bg: var(--color-surface);

  /* Ratio knobs (modern path) */
  --ratio: 16 / 9;         /* default ratio for modern browsers */

  /* Fallback ratio percentage for legacy path */
  --ratio-pct: 56.25%;     /* 16:9 = 9/16 * 100 */

  position: relative;
  display: block;
  inline-size: 100%;
  background: var(--iframe-bg);
  border: 1px solid var(--iframe-border);
  border-radius: var(--iframe-radius);
  box-shadow: var(--iframe-shadow);
  overflow: hidden;
}

/* Modern aspect-ratio support */
@supports (aspect-ratio: 1 / 1) {
  .iframe-container {
    aspect-ratio: var(--ratio);
    /* Optional minimum height so tiny containers still show something */
    min-block-size: 160px;
  }

  .iframe-container > iframe {
    inline-size: 100%;
    block-size: 100%;
    display: block;
    border: 0;
  }
}

/* Fallback for browsers without aspect-ratio */
@supports not (aspect-ratio: 1 / 1) {
  .iframe-container::before {
    content: "";
    display: block;
    block-size: 0;
    padding-block-start: var(--ratio-pct); /* creates the boxâ€™s height */
  }

  .iframe-container > iframe {
    position: absolute;
    inset: 0;
    inline-size: 100%;
    block-size: 100%;
    border: 0;
    display: block;
  }
}

/* Focus/keyboard accessibility */
.iframe-container:focus-within {
  /* Visible focus ring on the wrapper when the iframe is focused */
  outline: none;
  box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color), var(--iframe-shadow);
}

/* Density / chrome variants */
.iframe-container--flat   { --iframe-shadow: none; }
.iframe-container--raised { --iframe-shadow: var(--shadow-md); }
.iframe-container--round  { --iframe-radius: var(--border-radius-lg); }

/* Predefined ratio helpers (both modern and fallback) */
.iframe-container--1x1  { --ratio: 1 / 1;   --ratio-pct: 100%; }
.iframe-container--4x3  { --ratio: 4 / 3;   --ratio-pct: 75%; }
.iframe-container--3x2  { --ratio: 3 / 2;   --ratio-pct: 66.6667%; }
.iframe-container--21x9 { --ratio: 21 / 9;  --ratio-pct: 42.8572%; }

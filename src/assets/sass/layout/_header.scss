/* src/assets/sass/layout/_header.scss */

/* Page shell for the site header (no nav-item styling here) */
.site-header {
  background: var(--color-surface);
  color: var(--color-foreground);
  border-bottom: 1px solid var(--color-divider);
  margin: 0;
  padding: 0 0 var(--spacing-sm) 0;
  position: relative;
  z-index: var(--z-header);

  /* Optional translucent effect where supported */
  @supports (backdrop-filter: blur(0)) {
    &.site-header--translucent {
      backdrop-filter: var(--backdrop-blur);
      background: color-mix(in oklab, var(--color-surface), transparent 20%);
    }
  }

  /* Sticky variant */
  &.site-header--sticky {
    position: sticky;
    inset-block-start: 0; /* logical 'top' */
  }

  /* Transparent-on-hero variant */
  &.site-header--transparent {
    background: transparent;
    border-bottom-color: transparent;
  }
}

/* Inner content wrapper constrained to your container width
   Layout: Logo | Title | (flexible) Nav | Auth */
.site-header__inner {
  align-items: center;
  display: grid;
  gap: var(--spacing-md);
  grid-template-columns: auto auto auto 1fr 1fr;
  justify-items: self-end;
  margin-inline: var(--spacing-md);
  max-inline-size: var(--container-max-width);
  padding-inline: 0;
}

/* Brand block (logo + wordmark) */
.site-brand {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  grid-area: 1 / 1 / 2 / 2;
  font-weight: var(--font-weight-bold);
  color: inherit;
  text-decoration: none;
}

/* Logo sizing (use either of these hooks) */
.site-header__logo-img {
  inline-size: 48px;
  block-size: 48px;
  display: block;
}

/* Site title */
.site-title {
  grid-area: 1 / 2 / 2 / 3;
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-heading);
  font-size: clamp(1rem, 2.2vw, 1.25rem);
}

/* Keep nav compact and anchored to start of its grid cell */
.site-header__inner .main-nav {
  justify-self: start;
  display: flex;
  gap: var(--spacing-md);
  grid-area: 1 / 3 / 2 / 4;
  flex-wrap: wrap;
}

/* Optional zone for right-aligned actions (search, auth, theme switcher) */
.site-header__actions {
  grid-area: 1 / 4 / 2 / 5;
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* Safe-area padding for iOS (optional) */
@supports (padding: max(0px)) {
  .site-header {
    padding-top: max(var(--spacing-sm), env(safe-area-inset-top));
  }
}

/* Small screens: stack nav under the first row to avoid crowding */
@media (max-width: 480px) {
  .site-header__inner {
    grid-template-columns: auto 1fr auto;
    grid-template-areas:
      "logo  title  actions"
      "nav   nav    nav";
  }

  /* Area assignments */
  .site-brand,
  .site-header__logo { grid-area: logo; }

  .site-title { grid-area: title; }

  .site-header__inner .main-nav { grid-area: nav; }

  .site-header__actions { grid-area: actions; }
}

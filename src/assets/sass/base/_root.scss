// Purpose: Defines runtime CSS custom properties for the entire app.
// These are applied globally and can be consumed anywhere in the app’s styles.

@use 'sass:map';
@use '../abstracts' as tokens;

:root {
  /* ————— Typography ————— */
  --font-family-sans: #{tokens.$font-family-sans};
  --font-family-serif: #{tokens.$font-family-serif};
  --font-size-xs: #{tokens.$font-size-xs};
  --font-size-sm: #{tokens.$font-size-sm};
  --font-size-base: #{tokens.$font-size-base};
  --font-size-lg: #{tokens.$font-size-lg};
  --font-size-xl: #{tokens.$font-size-xl};

  // Emit heading variabless from the nested Sass map
  @each $tag, $conf in tokens.$heading-scale {
    $size: map.get($conf, size);
    $weight: map.get($conf, weight);
    $tracking: if(map.has-key($conf, tracking), map.get($conf, tracking), tokens.$letter-spacing-base);
    $lh: if(map.has-key($conf, lh), map.get($conf, lh), tokens.$line-height-heading);

    --font-size-#{$tag}: #{$size};
    --font-weight-#{$tag}: #{$weight};
    --letter-spacing-#{$tag}: #{$tracking};
    --line-height-#{$tag}: #{$lh}; // unitless → proportional to font-size
  }

  --font-weight-light: #{tokens.$font-weight-light};
  --font-weight-regular: #{tokens.$font-weight-regular};
  --font-weight-medium: #{tokens.$font-weight-medium};
  --font-weight-semibold: #{tokens.$font-weight-semibold};
  --font-weight-bold: #{tokens.$font-weight-bold};
  --font-weight-black: #{tokens.$font-weight-black};

  --line-height-base: #{tokens.$line-height-base};
  --line-height-heading: #{tokens.$line-height-heading};
  --letter-spacing-base: #{tokens.$letter-spacing-base};

}

:root {

  // SASS generated complimentary colors plus triad and tetrad harmnonies

  --base-color: #{tokens.$base-color};

  // Emit rotated variants as CSS variables
  @each $name, $value in tokens.$base-color-variants {
    --base-color-#{$name}: #{$value};
  }

}

:root {

  /* neutrals */
  @each $name, $val in tokens.$hsla-neutrals {
    --#{$name}: #{$val};
  }

  /* background/surfaces */
  @each $name, $val in tokens.$hsla-background-surfaces {
    --#{$name}: #{$val};
  }

  /* brand/accents */
  @each $name, $val in tokens.$hsla-brand-accents {
    --#{$name}: #{$val};
  }

  /* status */
  @each $name, $val in tokens.$hsla-status {
    --#{$name}: #{$val};
  }

  /* structure */
  @each $name, $val in tokens.$hsla-structure {
    --#{$name}: #{$val};
  }

  /* links */
  @each $name, $val in tokens.$hsla-links {
    --#{$name}: #{$val};
  }

  /* scrollbars */
  @each $name, $val in tokens.$hsla-scrollbars {
    --#{$name}: #{$val};
  }

  /* focus & a11y */
  @each $name, $val in tokens.$hsla-focus-accessibility {
    --#{$name}: #{$val};
  }
}

/* 2) Modern overrides: OKLCH (and oklch-in-gradients) */
@supports (color: oklch(50% 0 0)) {
  :root {
    /* neutrals */
    @each $name, $val in tokens.$oklch-neutrals {
      --#{$name}: #{$val};
    }

    /* background/surfaces */
    @each $name, $val in tokens.$oklch-background-surfaces {
      --#{$name}: #{$val};
    }

    /* brand/accents */
    @each $name, $val in tokens.$oklch-brand-accents {
      --#{$name}: #{$val};
    }

    /* status */
    @each $name, $val in tokens.$oklch-status {
      --#{$name}: #{$val};
    }

    /* structure */
    @each $name, $val in tokens.$oklch-structure {
      --#{$name}: #{$val};
    }

    /* links */
    @each $name, $val in tokens.$oklch-links {
      --#{$name}: #{$val};
    }

    /* scrollbars */
    @each $name, $val in tokens.$oklch-scrollbars {
      --#{$name}: #{$val};
    }

    /* focus & a11y */
    @each $name, $val in tokens.$oklch-focus-accessibility {
      --#{$name}: #{$val};
    }
  }
}


:root {
  /* ————— Spacing ————— */
  --spacing-xxs: #{tokens.$spacing-xxs};
  --spacing-xs: #{tokens.$spacing-xs};
  --spacing-sm: #{tokens.$spacing-sm};
  --spacing-md: #{tokens.$spacing-md};
  --spacing-lg: #{tokens.$spacing-lg};
  --spacing-xl: #{tokens.$spacing-xl};
  --spacing-xxl: #{tokens.$spacing-xxl};
  --spacing-unit: #{tokens.$spacing-unit};

  /* ————— Border & Radius ————— */
  --border-radius-sm: #{tokens.$radius-sm};
  --border-radius-md: #{tokens.$radius-md};
  --border-radius-lg: #{tokens.$radius-lg};
  --border-radius-base: #{tokens.$radius-base};
  --radius-full-circle: #{tokens.$radius-full-circle};
  --border-width: #{tokens.$border-width};

  /* ————— Elevation ————— */
  --shadow-xs: #{tokens.$shadow-xs};
  --shadow-sm: #{tokens.$shadow-sm};
  --shadow-md: #{tokens.$shadow-md};
  --shadow-lg: #{tokens.$shadow-lg};
  --shadow-xl: #{tokens.$shadow-xl};

  /* ————— Z-Index ————— */
  --z-header: #{tokens.$z-header};
  --z-modal: #{tokens.$z-modal};
  --z-tooltip: #{tokens.$z-tooltip};
  --z-overlay: #{tokens.$z-overlay};

  /* ————— Motion ————— */
  --transition-duration-fast: #{tokens.$transition-duration-fast};
  --transition-duration: #{tokens.$transition-duration};
  --transition-ease: #{tokens.$transition-ease};
  --transition-bounce: #{tokens.$transition-bounce};

  /* ————— Grid & Layout ————— */
  --container-max-width: #{tokens.$container-max-width};
  --grid-gap: #{tokens.$grid-gap};
  --grid-columns: #{tokens.$grid-columns};

  /* ————— Focus & A11y ————— */
  --focus-ring-width: #{tokens.$focus-ring-width};

  /* ————— Misc ————— */
  --backdrop-blur: #{tokens.$backdrop-blur};
  --overlay-bg: #{tokens.$overlay-bg};
}

/* ————— Light Theme Override ————— */
@media (prefers-color-scheme: light) {
  :root {
    --color-foreground: hsl(240, 35%, 10%);
    --color-background-primary: #ffffff;
  }
}
